{
  "version": "2.2.0",
  "summary": {
    "title": "DFD Library login",
    "owner": "Abraham Vazquez",
    "description": "Diagrama de flujo de datos de inicio de sesión del usuario para el sitio web de la biblioteca universitaria. Una de mis tareas para Programación segura.",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 0,
        "title": "DFD",
        "diagramType": "Generic",
        "placeholder": "New generic diagram description",
        "thumbnail": "./public/content/images/thumbnail.jpg",
        "version": "2.2.0",
        "cells": [
          {
            "position": {
              "x": 180,
              "y": 180
            },
            "size": {
              "width": 90,
              "height": 50
            },
            "attrs": {
              "text": {
                "text": "Usuario"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "zIndex": 1,
            "id": "5a10cdb2-34bd-4690-965c-a308ad2c012c",
            "data": {
              "type": "tm.Actor",
              "name": "Usuario",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "b5305d97-2fe5-4f36-aaf4-f44ced9e2e30",
                  "title": "Usuarios ",
                  "status": "Open",
                  "severity": "Low",
                  "type": "Spoofing",
                  "description": "Acción de amenaza destinada a acceder y utilizar las credenciales de otro usuario, como el nombre de usuario y la contraseña.",
                  "mitigation": "1. Autenticación adecuada\n2. Proteger datos secretos\n3. No almacenar secretos",
                  "modelType": "default",
                  "new": false,
                  "number": 1,
                  "score": "1"
                },
                {
                  "id": "1d4527e2-77cb-437f-ab94-cac40542f102",
                  "title": "New generic threat",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "--- STRIDE ---",
                  "description": "Provide a description for this threat",
                  "mitigation": "Provide remediation for this threat or a reason if status is N/A",
                  "modelType": "default",
                  "new": false,
                  "number": 1,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 420,
              "y": 130
            },
            "size": {
              "width": 150,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "Controlador\nweb"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 2,
            "id": "2360493a-f0c0-4deb-bc31-60f79f872e37",
            "data": {
              "type": "tm.Process",
              "name": "Controlador\nweb",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "fbeb6a09-a4d4-4a5e-9c1c-7b8b2b721aad",
                  "title": "Denegacion de servicio",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Denial of service",
                  "description": "Un atacante podría denegar el acceso a los usuarios validos, haciendo que el servidor web no este disponible o sea inutilizable temporalmente por medio del envío de múltiples peticiones simultaneas.",
                  "mitigation": "Se debe utilizar un balanceo de cargas en el servidor web.\nSe monitorean las direcciones IP de los clientes y al encontrar un posible ataque, se bloquea el acceso.\nSe considera contratar un servicio de VPN para ocultar la dirección IP publica a los clientes.",
                  "modelType": "default",
                  "new": false,
                  "number": 5,
                  "score": "2"
                }
              ]
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "60d3946f-e96e-4c9c-9544-6c8acfa8823c",
                  "title": "El flujo de datos debe utilizar HTTPS",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas respuestas se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las respuestas deberían requerir HTTPS. Esto proporcionará confidencialidad e integridad. HTTP no debe ser compatible",
                  "modelType": "default",
                  "new": false,
                  "number": 3,
                  "score": "3"
                }
              ]
            },
            "id": "fb7cfbe2-072f-4802-98af-6af4ba69fa04",
            "labels": [
              "Web response"
            ],
            "source": {
              "cell": "2360493a-f0c0-4deb-bc31-60f79f872e37"
            },
            "target": {
              "cell": "5a10cdb2-34bd-4690-965c-a308ad2c012c"
            },
            "vertices": [
              {
                "x": 380,
                "y": 240
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "dc0c0524-ebaa-43a7-8702-f094ce322398",
                  "title": "El flujo de datos debe utilizar HTTPS",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas solicitudes se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las solicitudes deberían requerir HTTPS. Esto proporcionará confidencialidad e integridad. HTTP no debe ser compatible.",
                  "modelType": "default",
                  "new": false,
                  "number": 4,
                  "score": "3"
                }
              ]
            },
            "id": "02c24267-a3ec-42f5-bbc0-3ac9938aedca",
            "labels": [
              "web request"
            ],
            "source": {
              "cell": "5a10cdb2-34bd-4690-965c-a308ad2c012c"
            },
            "target": {
              "cell": "2360493a-f0c0-4deb-bc31-60f79f872e37"
            },
            "vertices": [
              {
                "x": 390,
                "y": 120
              }
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "Limite Web Server/DB",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "5f32bb41-0768-40bf-9b4f-2ac2a1a8630e",
            "labels": [
              "Limite Web Server/DB"
            ],
            "source": {
              "x": 670,
              "y": 420
            },
            "target": {
              "x": 890,
              "y": 420
            },
            "vertices": [
              {
                "x": 680,
                "y": 340
              },
              {
                "x": 880,
                "y": 340
              }
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "Limite \nusuario/web \nserver",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "2f9dc9f8-68aa-4df1-8612-7902eb759b74",
            "labels": [
              "Limite \nusuario/web \nserver"
            ],
            "source": {
              "x": 280,
              "y": 130
            },
            "target": {
              "x": 280,
              "y": 270
            },
            "vertices": [
              {
                "x": 330,
                "y": 180
              },
              {
                "x": 330,
                "y": 220
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": "4 3"
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Visitas",
              "description": "",
              "outOfScope": true,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "1c25424a-d57b-4a53-b3b6-ef9f36c1fd4e",
            "labels": [
              "Visitas"
            ],
            "source": {
              "cell": "542f6f63-a7a6-4716-ae3b-2940c2535ab6"
            },
            "target": {
              "cell": "2360493a-f0c0-4deb-bc31-60f79f872e37"
            },
            "vertices": []
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": "4 3"
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "UsuarioAutenticado() resultado",
              "description": "",
              "outOfScope": true,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "bccf9e36-1229-4dfe-b37f-f45155c5b13e",
            "labels": [
              "UsuarioAutenticado() resultado"
            ],
            "source": {
              "cell": "5cc998f6-d90d-4855-98ea-7f9ec06f48ed"
            },
            "target": {
              "cell": "2360493a-f0c0-4deb-bc31-60f79f872e37"
            },
            "vertices": [
              {
                "x": 650,
                "y": 100
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "UsuarioAutenticado()",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "f1371bcc-80ff-4d4d-b021-e2aa39091b03",
                  "title": "Inyeccion de codigo",
                  "status": "Open",
                  "severity": "High",
                  "type": "Tampering",
                  "description": "Un atacante podría enviar una entrada inyectando código malicioso para evitar obtener privilegios.",
                  "mitigation": "1. Se aplican verificaciones de tipo, formato, longitud y rango de datos.\n2. Todos los datos enviados desde el cliente se validan.\n3. Ninguna decisión de seguridad se basa en parámetros (por ejemplo, parámetros de URL) que se pueden manipular.\n4. Filtrado de entrada mediante validación de lista de permitidos.\n5. Se utiliza codificación de salida.",
                  "modelType": "default",
                  "new": false,
                  "number": 7,
                  "score": "3"
                }
              ]
            },
            "id": "df14a1eb-1b6d-4d7d-aa95-69119c3cc085",
            "labels": [
              "UsuarioAutenticado()"
            ],
            "source": {
              "cell": "2360493a-f0c0-4deb-bc31-60f79f872e37"
            },
            "target": {
              "cell": "5cc998f6-d90d-4855-98ea-7f9ec06f48ed"
            },
            "vertices": [
              {
                "x": 650,
                "y": 168.5
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Usuario autenticado\nSQL Query\nResultado",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "6311ae7f-5412-4d72-8b3d-322439159058",
                  "title": "Ataque Man in the Middle",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría interceptar las consultas de la base de datos en transito y obtener información confidencial, como credenciales de la base de datos, parámetros de consulta o resultados de la consulta (es poco probable ya que el flujo de datos se realiza a través de una red privada).",
                  "mitigation": "Aplicar una conexión cifrada en el servidor de base de datos.",
                  "modelType": "default",
                  "new": false,
                  "number": 9,
                  "score": "2"
                }
              ]
            },
            "id": "6b159801-ef8a-418f-9200-86737ba7d4fc",
            "labels": [
              "Usuario autenticado\nSQL Query\nResultado"
            ],
            "source": {
              "cell": "7919ee25-e189-4608-ad97-712c71a48fcf"
            },
            "target": {
              "cell": "5cc998f6-d90d-4855-98ea-7f9ec06f48ed"
            },
            "vertices": [
              {
                "x": 700,
                "y": 300
              },
              {
                "x": 700,
                "y": 230
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Usuario autenticado \nSQL Query",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "71c6769d-f897-4396-bfd0-e100d7b690a5",
                  "title": "Ataque Man in the middle",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría interceptar las consultas de la base de datos y obtener información confidencial, como credenciales de la base de datos, parámetros de consulta o resultados de la consulta (es poco probable ya que el flujo de datos se realiza a través de una red privada).",
                  "mitigation": "Aplicar una conexión cifrada en el servidor de base de datos.",
                  "modelType": "default",
                  "new": false,
                  "number": 8,
                  "score": "2"
                }
              ]
            },
            "id": "4463fee5-a26d-471f-b0a7-15e18747d93b",
            "labels": [
              "Usuario autenticado \nSQL Query"
            ],
            "source": {
              "cell": "5cc998f6-d90d-4855-98ea-7f9ec06f48ed"
            },
            "target": {
              "cell": "7919ee25-e189-4608-ad97-712c71a48fcf"
            },
            "vertices": [
              {
                "x": 860,
                "y": 210
              },
              {
                "x": 880,
                "y": 280
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "b46ae5dd-3165-4049-8d77-e1d7ec38f7d7",
                  "title": "Divulgación de informacion",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas solicitudes se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las solicitudes deberían requerir HTTPS. Esto proporcionara confidencialidad e integridad. HTTP no debe ser compatible.",
                  "modelType": "default",
                  "new": false,
                  "number": 16,
                  "score": "3"
                }
              ]
            },
            "id": "eec841a5-b5f7-4c6d-b3f4-1351d1665e78",
            "source": {
              "cell": "3e580783-b3f2-4faa-bf0e-cffa7a01b35e"
            },
            "target": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "labels": [
              "web request"
            ],
            "vertices": [
              {
                "x": 1380,
                "y": 270
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "32e5a75d-358e-4b38-aca7-e5fd4caffb16",
                  "title": "Divulgación de informacion",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas respuestas se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las respuestas deberían requerir HTTPS. Esto proporcionara confidencialidad e integridad. HTTP no debe ser compatible.",
                  "modelType": "default",
                  "new": false,
                  "number": 17,
                  "score": "3"
                }
              ]
            },
            "id": "57c977fb-9359-4f5d-abed-859085bc99c9",
            "source": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "target": {
              "cell": "3e580783-b3f2-4faa-bf0e-cffa7a01b35e"
            },
            "labels": [
              "Web response"
            ],
            "vertices": [
              {
                "x": 1380,
                "y": 160
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web request",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "9ddac911-fe14-4c17-9077-79c9a841d235",
                  "title": "Divulgación de información ",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas solicitudes se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las solicitudes deberían requerir HTTPS. Esto proporcionara confidencialidad e integridad. HTTP no debe ser compatible.",
                  "modelType": "default",
                  "new": false,
                  "number": 18,
                  "score": "3"
                }
              ]
            },
            "id": "6ab63f7f-e905-42e9-988b-4aed49d1879e",
            "source": {
              "cell": "af95918c-513e-462f-ba99-da903a2116e0"
            },
            "target": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "labels": [
              "web request"
            ],
            "vertices": [
              {
                "x": 1450,
                "y": 340
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "web response",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "5d1ca588-cc5c-41f2-a62e-b2cada7b537c",
                  "title": "Divulgación de información ",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "Estas respuestas se transmiten a través de la Internet publica y podrían ser interceptadas por un atacante.",
                  "mitigation": "Las respuestas deberían requerir HTTPS. Esto proporcionara confidencialidad e integridad. HTTP no debe ser compatible.",
                  "modelType": "default",
                  "new": false,
                  "number": 19,
                  "score": "3"
                }
              ]
            },
            "id": "aef37678-e3d4-4f45-90a0-469caf0c6feb",
            "source": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "target": {
              "cell": "af95918c-513e-462f-ba99-da903a2116e0"
            },
            "labels": [
              "web response"
            ],
            "vertices": [
              {
                "x": 1580,
                "y": 340
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": "4 3"
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Paginas ",
              "description": "",
              "outOfScope": true,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "38595af7-f441-4e42-8515-4bcfacc9ad38",
            "source": {
              "cell": "923f79dd-33c7-4028-8f90-cb9ef82a84a7"
            },
            "target": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "labels": [
              "Paginas "
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "Limite usuario/web server",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "6f15fa29-c64a-467a-acce-fcfb2165005e",
            "source": {
              "x": 1220,
              "y": 240
            },
            "target": {
              "x": 1410,
              "y": 460
            },
            "labels": [
              "Limite usuario/web server"
            ],
            "vertices": [
              {
                "x": 1360,
                "y": 330
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Queries",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "0a407ba8-7088-4b8c-9843-51fbb0f7c6e9",
                  "title": "Divulgación de información ",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría interceptar las consultas de la base de datos en transito y obtener información confidencial, como credenciales de la base de datos, parámetros de consulta o resultados de consulta (es poco probable ya que el flujo de datos se realiza a través de una red privada).",
                  "mitigation": "Aplicar una conexión cifrada en el servidor de la base de datos.",
                  "modelType": "default",
                  "new": false,
                  "number": 24,
                  "score": "2"
                }
              ]
            },
            "id": "344418ab-5ab5-4861-8b2e-7922f0de231b",
            "source": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "target": {
              "cell": "2dc28d60-3d77-467f-8e13-f270d511ce31"
            },
            "labels": [
              "Queries"
            ],
            "vertices": [
              {
                "x": 1640,
                "y": 120
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Resultados web app query",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": [
                {
                  "id": "fd7f467e-6f9a-4056-90e4-9eb71594b8ce",
                  "title": "Divulgación de información ",
                  "status": "Mitigated",
                  "severity": "Low",
                  "type": "Information disclosure",
                  "description": "Un atacante podría interceptar las consultas de la base de datos en tránsito y obtener información confidencial como credenciales de la base de datos, parámetros de consulta o resultados de la consulta (es poco probable ya que el flujo de datos se realiza a través de una red privada).",
                  "mitigation": "Aplicar una conexión cifrada en el servidor de la base de datos.",
                  "modelType": "default",
                  "new": false,
                  "number": 26,
                  "score": "1"
                }
              ]
            },
            "id": "d74efcb5-18a6-4239-b2fc-298ceac7fefe",
            "source": {
              "cell": "2dc28d60-3d77-467f-8e13-f270d511ce31"
            },
            "target": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "labels": [
              "Resultados web app query"
            ],
            "vertices": [
              {
                "x": 1660,
                "y": 229.5
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": "4 3"
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Lee web \napp config",
              "description": "",
              "outOfScope": true,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "62b4bc1c-5fc7-41ae-9b62-0d804cc1ba28",
            "source": {
              "cell": "094ce0a3-4abb-4ccb-a214-fd50e3c7ee0c"
            },
            "target": {
              "cell": "e3d51622-5418-467e-bec6-04bb887a18d5"
            },
            "vertices": [
              {
                "x": 1640,
                "y": 300
              }
            ],
            "labels": [
              "Lee web \napp config"
            ]
          },
          {
            "position": {
              "x": 360,
              "y": 320
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Paginas web\nen discos"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 11,
            "id": "542f6f63-a7a6-4716-ae3b-2940c2535ab6",
            "data": {
              "type": "tm.Store",
              "name": "Paginas web\nen discos",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "87bed2a3-b4c0-43b1-b90f-f16c99f4023d",
                  "title": "Modificacion sin autorizacion",
                  "status": "Mitigated",
                  "severity": "High",
                  "type": "Tampering",
                  "description": "Un atacante podría modificar las paginas web sin autorización.",
                  "mitigation": "Las paginas solo tienen acceso de lectura. \nÚnicamente el usuario administrador puede tener acceso de escritura.",
                  "modelType": "default",
                  "new": false,
                  "number": 6,
                  "score": "3"
                }
              ]
            }
          },
          {
            "position": {
              "x": 750,
              "y": 130
            },
            "size": {
              "width": 80,
              "height": 70
            },
            "attrs": {
              "text": {
                "text": "Proceso \nde login"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 12,
            "id": "5cc998f6-d90d-4855-98ea-7f9ec06f48ed",
            "data": {
              "type": "tm.Process",
              "name": "Proceso \nde login",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "00f34655-a8b0-439c-a47e-0286b23f258c",
                  "title": "Ataque de fuerza bruta",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Elevation of privilege",
                  "description": "Un atacante podría realizar un ataque con un diccionario para tratar de adivinar la contraseña de los usuarios.",
                  "mitigation": "Se debe bloquear la cuenta después de N intentos fallidos.\nSe deben validar la complejidad y longitud de las contraseñas.",
                  "modelType": "default",
                  "new": false,
                  "number": 10,
                  "score": "2"
                }
              ]
            }
          },
          {
            "position": {
              "x": 720,
              "y": 360
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Base de \ndatos"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 13,
            "id": "7919ee25-e189-4608-ad97-712c71a48fcf",
            "data": {
              "type": "tm.Store",
              "name": "Base de \ndatos",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "aeafe16a-d104-4dce-98a6-92abe1fbb7ac",
                  "title": "Acceso no autorizado",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "Un atacante podria enviar una consulta a la BD",
                  "mitigation": "Requerir que todas las contraseñas sean autenticadas.",
                  "modelType": "default",
                  "new": false,
                  "number": 11,
                  "score": "2"
                },
                {
                  "id": "e4d2f596-ed6a-4e93-a7e4-34823460fa3b",
                  "title": "Robo de credenciales",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría obtener las credenciales de la base de datos para realizar consultas no autorizadas.",
                  "mitigation": "Utilizar un firewall para restringir el acceso a la base de datos únicamente a la dirección IP del trabajador en segundo plano.",
                  "modelType": "default",
                  "new": false,
                  "number": 12,
                  "score": "2"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1147.5,
              "y": 270.00000000000006
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Usuario"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "id": "3e580783-b3f2-4faa-bf0e-cffa7a01b35e",
            "zIndex": 14,
            "data": {
              "type": "tm.Actor",
              "name": "Usuario",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "9e02219c-b9f9-471d-ac8f-fc96d4aec4c3",
                  "title": "Suplantacion de identidad",
                  "status": "Open",
                  "severity": "Low",
                  "type": "Spoofing",
                  "description": "Acción de amenaza destinada a acceder y utilizar las credenciales de otro usuario como el nombre de usuario y la contraseña. ",
                  "mitigation": "1. Autenticación adecuada\n2. Proteger datos secretos\n3. No almacenar secretos",
                  "modelType": "default",
                  "new": false,
                  "number": 13,
                  "score": "1"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1260,
              "y": 390
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Bibliotecario"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "id": "af95918c-513e-462f-ba99-da903a2116e0",
            "zIndex": 15,
            "data": {
              "type": "tm.Actor",
              "name": "Bibliotecario",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "c8da3b50-c7b1-492c-9970-9a0341635453",
                  "title": "Suplantacion de identidad",
                  "status": "Open",
                  "severity": "Low",
                  "type": "Spoofing",
                  "description": "Acción destinada a acceder y utilizar las credenciales de otro usuario como el nombre de usuario y la contraseña.",
                  "mitigation": "1. Autenticación adecuada\n2. Proteger datos secretos\n3. No almacenar secretos",
                  "modelType": "default",
                  "new": false,
                  "number": 14,
                  "score": "1"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1436,
              "y": 180.00000000000006
            },
            "size": {
              "width": 110,
              "height": 90
            },
            "attrs": {
              "text": {
                "text": "Sitio web\nbiblioteca"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "id": "e3d51622-5418-467e-bec6-04bb887a18d5",
            "zIndex": 16,
            "data": {
              "type": "tm.Process",
              "name": "Sitio web\nbiblioteca",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": [
                {
                  "id": "5b44c8ed-e7bc-4cb2-9c0d-c1328c9dca19",
                  "title": "Denegacion de servicio",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Denial of service",
                  "description": "Un atacante podría denegar el acceso a usuarios validos, haciendo que el servidor web no este disponible o sea inutilizable temporalmente por medio del envío de múltiples peticiones simultaneas.",
                  "mitigation": "Se utiliza un balanceo de cargas en el servidor web. \nSe monitorean las direcciones IP de los clientes y al encontrar un posible ataque, se bloquea el acceso.\nSe considera contratar un servicio de VPN para ocultar la dirección IP publica a los clientes.",
                  "modelType": "default",
                  "new": false,
                  "number": 15,
                  "score": "2"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1490,
              "y": 0
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Paginas web en disco"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "923f79dd-33c7-4028-8f90-cb9ef82a84a7",
            "zIndex": 17,
            "data": {
              "type": "tm.Store",
              "name": "Paginas web en disco",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "faa12965-a58d-40cb-9a65-c28d4b0cf4f4",
                  "title": "Modificación sin autorización",
                  "status": "Mitigated",
                  "severity": "High",
                  "type": "Tampering",
                  "description": "Un atacante podría modificar las paginas web sin autorización.",
                  "mitigation": "Las paginas solo tienen acceso de lectura. Únicamente el usuario administrador puede tener acceso de escritura.",
                  "modelType": "default",
                  "new": false,
                  "number": 20,
                  "score": "3"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1730,
              "y": 90
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Base de datos"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "2dc28d60-3d77-467f-8e13-f270d511ce31",
            "zIndex": 18,
            "data": {
              "type": "tm.Store",
              "name": "Base de datos",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "1deacaee-6520-4bdb-bfbe-ccc5b2865145",
                  "title": "Divulgación de información ",
                  "status": "Mitigated",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría enviar una consulta a la BD.",
                  "mitigation": "Requerir que todas las consultas sean autenticadas.",
                  "modelType": "default",
                  "new": false,
                  "number": 21,
                  "score": "2"
                },
                {
                  "id": "d870b8ce-83d3-4dd9-9881-aa8e687f05c1",
                  "title": "Divulgación de información",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Un atacante podría obtener las credenciales de la base de datos y utilizarlas para realizar consultas no autorizadas.",
                  "mitigation": "Utilizar un firewall para restringir el acceso a la base de datos únicamente a la dirección IP del trabajador en segundo plano.",
                  "modelType": "default",
                  "new": false,
                  "number": 22,
                  "score": "2"
                }
              ]
            }
          },
          {
            "position": {
              "x": 1750,
              "y": 270.00000000000006
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "web application config"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "id": "094ce0a3-4abb-4ccb-a214-fd50e3c7ee0c",
            "zIndex": 19,
            "data": {
              "type": "tm.Store",
              "name": "web application config",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "e8ef6442-bd50-46ef-b003-865b8df50385",
                  "title": "Divulgación de información ",
                  "status": "Open",
                  "severity": "High",
                  "type": "Information disclosure",
                  "description": "La configuración de la aplicación web almacena las credenciales utilizadas por la aplicación web para acceder a la cola de mensajes. Un atacante podría robarlos y utilizarlos para leer datos confidenciales o colocar mensajes dudosos en la cola.",
                  "mitigation": "Las credenciales almacenadas deben estar cifradas.",
                  "modelType": "default",
                  "new": false,
                  "number": 23,
                  "score": "3"
                }
              ]
            }
          }
        ],
        "description": "Login"
      }
    ],
    "diagramTop": 1,
    "reviewer": "",
    "threatTop": 27
  }
}